{% extends "layout.html" %}
{% block body %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.2/socket.io.js"></script>
<script src="{{ url_for('static', filename='js/easytimer.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<div class="header">
    <br>{{ game_name }}
    <div id="game_timer" style="display: inline;"></div>
</div>

<div id="sidebarContainer">
    <input type="checkbox" class="openSideMenu" id="openSideMenu">

    <label for="openSideMenu" class="sideIconToggle">
        <div class="spinner diagonal part-1"></div>
        <div class="spinner horizontal"></div>
        <div class="spinner diagonal part-2"></div>
    </label>

    <div id="sideMenu">
        <ul class="sideMenuInner">
            <div>Username: {{ session.username }}</div>
            <form action="/username" method="POST">
                Username: <input type="text" name="username" id="username">
                <li onclick="hideSidebar()">
                    <a href="#" data-toggle="tab" id="username_change">Change username</a>
                </li>
            </form>
            <li class="active" onclick="hideSidebar()"><a href="#" data-toggle="tab">Item1</a></li>
            <li onclick="hideSidebar()"><a href="#" data-toggle="tab">Item2</a></li>
            <li onclick="hideSidebar()"><a href="#" data-toggle="tab">Item3</a></li>
            <p>
            <div id="players"><b>Players</b><br>{% for player in players %} {{ player }} {% endfor %}</div>
            </p>
        </ul>
    </div>
</div>
<div class="main">
    <!-- TODO: Make it so the updated game_status and the dynamic status is the same. -->
    <!-- TODO: set clock to run based on the current state. -->
    <div id="controls" style="width=30%">
        <p><a href="/join/defaultgame">Join default game</a></p>
        <p><button id="game_start">Start game</button></p>
        <!-- <p><button id="game_pause" disabled>Pause game</button></p> -->
        <p><button id="game_reset">Reset game</button></p>
        <p><button id="get_game_state">Get game state</button></p>
        <p><button id="proper_noun" hidden>Is it a proper noun?</button></p>
        <p><button id="undo" hidden>Undo last answer</button></p>
        <p><button id="make_me_mayor">Make me mayor</button></p>

        <div id="question_div">
            Question: <input type="text" id="question"><button id="question_submit">
            Submit question</button></p>
        </div>
        <div id="game_state">Game state: {{game_state}}</div>
        <div id="mayor_name">Mayor: {{mayor}}</div>
    </div>
    <div id="questions" style="width:0%; height:480px; display: inline-block">
        <!-- I love that this is easily the most NON-SAFE thing I could do. User-input strings are rendered in HTML on the fly. wtf am I doing?? -->
        {% for q in questions %}
        {{ q|safe }}
        {% endfor %}
    </div>
</div>
{% endblock %}